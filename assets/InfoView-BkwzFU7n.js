import{d as h,a as _,b as l,o as c,c as n,e as a,n as s,u as t,_ as y,f as v,g as i,h as d,i as p,F as D,r as b,L as V,j as f}from"./index-BrPV_pzH.js";const N="/simple-weather-app/assets/currency-Dpmr_oxJ.svg",$=h("currencyStore",{state:()=>({isLoading:!1,currencyData:{},cryptoCurrencyData:[],activeTab:1}),actions:{async getCurrencies(){this.isLoading=!0;try{const{data:r}=await _.get("https://www.cbr-xml-daily.ru/daily_json.js");this.currencyData=r,this.currencyData.Date=new Date(r.Date).toLocaleDateString();const{data:e}=await _.get("https://api.coinlore.net/api/ticker/",{params:{id:"90,80,54683,28,130947"}});this.cryptoCurrencyData=e}catch(r){alert(`Возникла ошибка: ${r}`)}finally{this.isLoading=!1}},setActiveTab(r){this.activeTab=r}}}),C={class:"tabs"},g=l({__name:"TabBar",setup(r){const e=$();return(m,u)=>(c(),n("div",C,[a(y,{text:"Валюта",class:s({active:t(e).activeTab===1}),onClick:u[0]||(u[0]=o=>t(e).setActiveTab(1))},null,8,["class"]),a(y,{text:"Криптовалюта",class:s({active:t(e).activeTab===2}),onClick:u[1]||(u[1]=o=>t(e).setActiveTab(2))},null,8,["class"])]))}}),x={key:1},k={class:"data-wrapper"},T={key:0,class:"currency-data"},w={key:1,class:"crypto-currency-data"},F=l({__name:"CurrencyOutput",setup(r){const e=$();return e.getCurrencies(),(m,u)=>(c(),n(D,null,[a(g),t(e).isLoading?(c(),v(V,{key:0})):(c(),n("div",x,[a(i,{item:`Дата обновления: ${t(e).currencyData.Date}`,class:s(["current-date"])},null,8,["item"]),d("div",k,[t(e).activeTab===1&&t(e).currencyData.Valute?(c(),n("div",T,[a(i,{item:`${t(e).currencyData.Valute.USD.Name}: ${Number(t(e).currencyData.Valute.USD.Value).toFixed(2)}₽`,class:s(["usd"])},null,8,["item"]),a(i,{item:`${t(e).currencyData.Valute.EUR.Name}: ${Number(t(e).currencyData.Valute.EUR.Value).toFixed(2)}₽`,class:s(["eur"])},null,8,["item"]),a(i,{item:`${t(e).currencyData.Valute.BYN.Name}: ${Number(t(e).currencyData.Valute.BYN.Value).toFixed(2)}₽`,class:s(["byn"])},null,8,["item"]),a(i,{item:`${t(e).currencyData.Valute.CNY.Name}: ${Number(t(e).currencyData.Valute.CNY.Value).toFixed(2)}₽`,class:s(["cny"])},null,8,["item"]),a(i,{item:`${t(e).currencyData.Valute.KZT.Name}: ${Number(t(e).currencyData.Valute.KZT.Value).toFixed(2)}₽`,class:s(["kzt"])},null,8,["item"])])):p("",!0),t(e).activeTab===2&&t(e).cryptoCurrencyData?(c(),n("div",w,[(c(!0),n(D,null,b(t(e).cryptoCurrencyData,o=>(c(),n("div",{key:o.id},[a(i,{item:`${o.name}: ${Number(o.price_usd).toFixed(2)}$`,class:s(["coin"])},null,8,["item"])]))),128))])):p("",!0)])]))],64))}}),L={class:"info"},S={class:"info-header-wrapper"},B=d("img",{src:N,alt:"Currency icon",width:"40",height:"40"},null,-1),Y=l({__name:"InfoView",setup(r){return(e,m)=>(c(),n("div",L,[d("div",S,[a(f,{title:"Currency Info"}),B]),a(F)]))}});export{Y as default};
