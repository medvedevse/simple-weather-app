import{d as D,a as l,b as p,o as r,c as n,e as s,f as u,n as d,u as t,_ as y,g as h,t as a,h as _,F as m,r as V,L as b,i as C}from"./index-C9oGUBon.js";const N=D("currencyStore",{state:()=>({isLoading:!1,currencyData:{},cryptoCurrencyData:[],activeTab:1}),actions:{async getCurrencies(){this.isLoading=!0;try{const{data:c}=await l.get("https://www.cbr-xml-daily.ru/daily_json.js");this.currencyData=c,this.currencyData.Date=new Date(c.Date).toLocaleDateString();const{data:e}=await l.get("https://api.coinlore.net/api/ticker/",{params:{id:"90,80,54683,28,130947"}});this.cryptoCurrencyData=e}catch(c){alert(`Возникла ошибка: ${c}`)}finally{this.isLoading=!1}},setActiveTab(c){this.activeTab=c}}}),f={class:"tabs"},g={key:1},x={class:"current-date"},k={class:"data-wrapper"},T={key:0,class:"currency-data"},w={class:"usd"},F={class:"eur"},L={class:"byn"},S={class:"cny"},$={class:"kzt"},B={key:1,class:"crypto-currency-data"},U={class:"coin"},Y=p({__name:"CurrencyOutput",setup(c){const e=N();return e.getCurrencies(),(v,o)=>(r(),n(m,null,[s("div",f,[u(y,{text:"Currency",class:d({active:t(e).activeTab===1}),onClick:o[0]||(o[0]=i=>t(e).setActiveTab(1))},null,8,["class"]),u(y,{text:"Crypto Currency",class:d({active:t(e).activeTab===2}),onClick:o[1]||(o[1]=i=>t(e).setActiveTab(2))},null,8,["class"])]),t(e).isLoading?(r(),h(b,{key:0})):(r(),n("div",g,[s("div",x,"Дата обновления: "+a(t(e).currencyData.Date),1),s("div",k,[t(e).activeTab===1&&t(e).currencyData.Valute?(r(),n("div",T,[s("div",w,a(t(e).currencyData.Valute.USD.Name)+": "+a(Number(t(e).currencyData.Valute.USD.Value).toFixed(2))+"₽ ",1),s("div",F,a(t(e).currencyData.Valute.EUR.Name)+": "+a(Number(t(e).currencyData.Valute.EUR.Value).toFixed(2))+"₽ ",1),s("div",L,a(t(e).currencyData.Valute.BYN.Name)+": "+a(Number(t(e).currencyData.Valute.BYN.Value).toFixed(2))+"₽ ",1),s("div",S,a(t(e).currencyData.Valute.CNY.Name)+": "+a(Number(t(e).currencyData.Valute.CNY.Value).toFixed(2))+"₽ ",1),s("div",$,a(t(e).currencyData.Valute.KZT.Name)+": "+a(Number(t(e).currencyData.Valute.KZT.Value).toFixed(2))+"₽ ",1)])):_("",!0),t(e).activeTab===2&&t(e).cryptoCurrencyData?(r(),n("div",B,[(r(!0),n(m,null,V(t(e).cryptoCurrencyData,i=>(r(),n("div",{key:i.id},[s("div",U,a(i.name)+": "+a(Number(i.price_usd).toFixed(2))+"$ ",1)]))),128))])):_("",!0)])]))],64))}}),A={class:"info"},j=p({__name:"InfoView",setup(c){return(e,v)=>(r(),n("div",A,[u(C,{title:"Currency Info"}),u(Y)]))}});export{j as default};
