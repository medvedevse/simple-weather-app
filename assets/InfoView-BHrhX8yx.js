import{d as $,a as d,b as p,o as s,c as i,e as o,f as a,n as r,u as t,_ as y,g as v,h as n,i as m,F as _,r as h,L as C,j as V}from"./index-DmYThVcY.js";const b="/simple-weather-app/assets/currency-Dpmr_oxJ.svg",f=$("currencyStore",{state:()=>({isLoading:!1,currencyData:{},cryptoCurrencyData:[],activeTab:1}),actions:{async getCurrencies(){this.isLoading=!0;try{const{data:c}=await d.get("https://www.cbr-xml-daily.ru/daily_json.js");this.currencyData=c,this.currencyData.Date=new Date(c.Date).toLocaleDateString();const{data:e}=await d.get("https://api.coinlore.net/api/ticker/",{params:{id:"90,80,54683,28,130947"}});this.cryptoCurrencyData=e}catch(c){alert(`Возникла ошибка: ${c}`)}finally{this.isLoading=!1}},setActiveTab(c){this.activeTab=c}}}),N={class:"tabs"},g={key:1},x={class:"data-wrapper"},k={key:0,class:"currency-data"},w={key:1,class:"crypto-currency-data"},T=p({__name:"CurrencyOutput",setup(c){const e=f();return e.getCurrencies(),(D,l)=>(s(),i(_,null,[o("div",N,[a(y,{text:"Currency",class:r({active:t(e).activeTab===1}),onClick:l[0]||(l[0]=u=>t(e).setActiveTab(1))},null,8,["class"]),a(y,{text:"Crypto Currency",class:r({active:t(e).activeTab===2}),onClick:l[1]||(l[1]=u=>t(e).setActiveTab(2))},null,8,["class"])]),t(e).isLoading?(s(),v(C,{key:0})):(s(),i("div",g,[a(n,{item:`Дата обновления: ${t(e).currencyData.Date}`,class:r(["current-date"])},null,8,["item"]),o("div",x,[t(e).activeTab===1&&t(e).currencyData.Valute?(s(),i("div",k,[a(n,{item:`${t(e).currencyData.Valute.USD.Name}: ${Number(t(e).currencyData.Valute.USD.Value).toFixed(2)}₽`,class:r(["usd"])},null,8,["item"]),a(n,{item:`${t(e).currencyData.Valute.EUR.Name}: ${Number(t(e).currencyData.Valute.EUR.Value).toFixed(2)}₽`,class:r(["eur"])},null,8,["item"]),a(n,{item:`${t(e).currencyData.Valute.BYN.Name}: ${Number(t(e).currencyData.Valute.BYN.Value).toFixed(2)}₽`,class:r(["byn"])},null,8,["item"]),a(n,{item:`${t(e).currencyData.Valute.CNY.Name}: ${Number(t(e).currencyData.Valute.CNY.Value).toFixed(2)}₽`,class:r(["cny"])},null,8,["item"]),a(n,{item:`${t(e).currencyData.Valute.KZT.Name}: ${Number(t(e).currencyData.Valute.KZT.Value).toFixed(2)}₽`,class:r(["kzt"])},null,8,["item"])])):m("",!0),t(e).activeTab===2&&t(e).cryptoCurrencyData?(s(),i("div",w,[(s(!0),i(_,null,h(t(e).cryptoCurrencyData,u=>(s(),i("div",{key:u.id},[a(n,{item:`${u.name}: ${Number(u.price_usd).toFixed(2)}$`,class:r(["coin"])},null,8,["item"])]))),128))])):m("",!0)])]))],64))}}),F={class:"info"},L={class:"info-header-wrapper"},S=o("img",{src:b,alt:"Currency icon",width:"40",height:"40"},null,-1),U=p({__name:"InfoView",setup(c){return(e,D)=>(s(),i("div",F,[o("div",L,[a(V,{title:"Currency Info"}),S]),a(T)]))}});export{U as default};
