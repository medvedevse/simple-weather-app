import{d as h,a as l,b as m,o as c,c as n,e as s,f as u,n as d,u as t,_,g as D,t as a,h as y,F as p,r as C,L as V,i as b}from"./index-BelGSvuo.js";const N="/simple-weather-app/assets/currency-Dpmr_oxJ.svg",f=h("currencyStore",{state:()=>({isLoading:!1,currencyData:{},cryptoCurrencyData:[],activeTab:1}),actions:{async getCurrencies(){this.isLoading=!0;try{const{data:r}=await l.get("https://www.cbr-xml-daily.ru/daily_json.js");this.currencyData=r,this.currencyData.Date=new Date(r.Date).toLocaleDateString();const{data:e}=await l.get("https://api.coinlore.net/api/ticker/",{params:{id:"90,80,54683,28,130947"}});this.cryptoCurrencyData=e}catch(r){alert(`Возникла ошибка: ${r}`)}finally{this.isLoading=!1}},setActiveTab(r){this.activeTab=r}}}),g={class:"tabs"},x={key:1},k={class:"current-date"},w={class:"data-wrapper"},T={key:0,class:"currency-data"},$={class:"usd"},F={class:"eur"},L={class:"byn"},S={class:"cny"},B={class:"kzt"},U={key:1,class:"crypto-currency-data"},Y={class:"coin"},A=m({__name:"CurrencyOutput",setup(r){const e=f();return e.getCurrencies(),(v,o)=>(c(),n(p,null,[s("div",g,[u(_,{text:"Currency",class:d({active:t(e).activeTab===1}),onClick:o[0]||(o[0]=i=>t(e).setActiveTab(1))},null,8,["class"]),u(_,{text:"Crypto Currency",class:d({active:t(e).activeTab===2}),onClick:o[1]||(o[1]=i=>t(e).setActiveTab(2))},null,8,["class"])]),t(e).isLoading?(c(),D(V,{key:0})):(c(),n("div",x,[s("div",k,"Дата обновления: "+a(t(e).currencyData.Date),1),s("div",w,[t(e).activeTab===1&&t(e).currencyData.Valute?(c(),n("div",T,[s("div",$,a(t(e).currencyData.Valute.USD.Name)+": "+a(Number(t(e).currencyData.Valute.USD.Value).toFixed(2))+"₽ ",1),s("div",F,a(t(e).currencyData.Valute.EUR.Name)+": "+a(Number(t(e).currencyData.Valute.EUR.Value).toFixed(2))+"₽ ",1),s("div",L,a(t(e).currencyData.Valute.BYN.Name)+": "+a(Number(t(e).currencyData.Valute.BYN.Value).toFixed(2))+"₽ ",1),s("div",S,a(t(e).currencyData.Valute.CNY.Name)+": "+a(Number(t(e).currencyData.Valute.CNY.Value).toFixed(2))+"₽ ",1),s("div",B,a(t(e).currencyData.Valute.KZT.Name)+": "+a(Number(t(e).currencyData.Valute.KZT.Value).toFixed(2))+"₽ ",1)])):y("",!0),t(e).activeTab===2&&t(e).cryptoCurrencyData?(c(),n("div",U,[(c(!0),n(p,null,C(t(e).cryptoCurrencyData,i=>(c(),n("div",{key:i.id},[s("div",Y,a(i.name)+": "+a(Number(i.price_usd).toFixed(2))+"$ ",1)]))),128))])):y("",!0)])]))],64))}}),E={class:"info"},j={class:"info-header-wrapper"},z=s("img",{src:N,alt:"Currency icon",width:"40",height:"40"},null,-1),K=m({__name:"InfoView",setup(r){return(e,v)=>(c(),n("div",E,[s("div",j,[u(b,{title:"Currency Info"}),z]),u(A)]))}});export{K as default};
